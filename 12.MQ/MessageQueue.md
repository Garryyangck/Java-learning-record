## 消息队列高手课

### 0.怎样更好地学习这门课？

1. ![img](MessageQueue.assets/8c13b2d68dda85d2b47b52064905f001.png)
2. 市面上有的消息队列产品很多，像 Kafka、ActiveMQ、RocketMQ、Pulsar、RabbitMQ 等等，其中比较**主流**的**开源**消息队列为 **Kafka、RocketMQ 和 RabbitMQ**。
3. 与消息队列相关的协议和标准有 **JMS、AMQP、MQTT 和 OpenMessaging**。
3. 消息队列涉及到的语言有 ==Java、Scala 和 Erlang==。

---

### 1.为什么需要消息队列？

1. **异步处理**：

	> - 典型场景：**秒杀项目**
	>
	> - 秒杀项目的**步骤**：
	>
	> 	1. 风险控制
	> 	2. 库存锁定
	> 	3. 生成订单
	> 	4. 短信通知
	> 	5. 更新统计数据
	>
	> 	![img](MessageQueue.assets/d2c1ee3d4478580c0d2a8d80d0e833be.jpg)
	>
	> - 只要用户的秒杀请求**通过风险控制**，并在服务端完成**库存锁定**，就可以给用户**返回秒杀结果**了。
	>
	> - 然后把请求的数据放入消息队列中，由**消息队列异步地进行后续的操作**。
	>
	> - 异步处理的**好处**是：
	>
	> 	- 可以**更快地返回结果**；
	> 	- 减少等待，**自然实现了步骤之间的并发**，提升系统总体的性能。
	
2. **流量控制**：

  > - 典型场景：**秒杀项目**
  > - 问题：如何避免过多的请求压垮我们的秒杀系统？
  > - 方法：**使用消息队列隔离网关和后端服务，以达到流量控制和保护后端服务的目的**。
  > - ![img](MessageQueue.assets/7909fb792a059e22a0a269c1f2cde64a.jpg)